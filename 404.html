<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Formonit</title>
    <meta name="description" content="Free, self-hosted, open-source form backend solution. No installation required for hosting. Lightweight server runs in browser. Backend sends form data as a Telegram bot to your Telegram account.">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>

  <body onload="spaHide('jsAlert');">
    <p class="alert alert-danger" id="jsAlert">You don't have JavaScript enabled! This page cannot function without it.</p>    

  <section class="spa-page container-fluid" id="loading">
    <p>Loading...</p>
  </section>
  
  <section class="spa-page container-fluid" id="404">
    <p>Sorry, the page you are looking for couldn't be found.</p>
  </section>
  
  <form name="viewCounter" method="POST" target="hidden_iframe" hidden>
    <input name="FormID" value="_view_car">
  </form>
  <iframe name="hidden_iframe" src="about:blank" hidden></iframe>
  
  <section class="spa-page container-fluid" id="form">
    <h3>Hi, I am the owner of this vehicle.</h3>
    <p>Contact me below, if needed. You may come back to this page later to check if I have replied.</p>
    <form name="contact" method="POST" target="form_iframe" onsubmit="document.getElementsByName('form_iframe')[0].style='background:url(https://img.icons8.com/material-outlined/30/spinner-frame-2.png) no-repeat';">
      <input type="hidden" name="FormID" value="car@formonit">
      <input type="hidden" name="ChatID" id="chatID">
      <input type="hidden" name="Submitted" value="true">

      <div class="mt-2">
          <label for="reasonInput" class="form-label"><strong>What is the problem?</strong></label>
          <select id="reasonInput" class="form-select" name="Reason" autocomplete="on" required>
            <option selected>Please select one from this list</option>
            <option value="Move the vehicle">The vehicle needs to be moved</option>
            <option value="Vehicle getting towed">The vehicle is getting towed</option>
            <option value="Vehicle getting damaged">The vehicle is damaged / accident</option>
            <option value="Looking for owner">Someone / police / authorities looking for the owner</option>
            <option value="Message">None of the above. Please write details in message below.</option>
          </select>
      </div>
      <div class="mt-2">
          <label for="phoneInput" class="form-label"><strong>Your phone number so that I can contact you for more details:</strong></label>
          <input id="phoneInput" type="tel" class="form-control" name="Phone" placeholder="10-digit phone number" autocomplete="on" pattern="[0-9]{10}">
      </div>
      <div class="mt-2">
        <label for="msgInput" class="form-label"><strong>Your message:</strong></label>
        <input id="msgInput" type="text" class="form-control" name="Message" placeholder="Please type here">
      </div>

      <button type="submit" class="btn btn-success mt-2">Post</button>
      <button type="button" class="btn btn-info mt-2" onclick="this.parentElement.elements['Message'].value='';document.getElementsByName('form_iframe')[0].src='about:blank';">New Message</button>
      <button type="reset" class="btn btn-warning mt-2" onClick="document.getElementsByName('form_iframe')[0].src='about:blank';">Reset</button>
      <iframe name="form_iframe" height="30" width="30" scrolling="no" src="about:blank" onload="this.removeAttribute('style')"></iframe>
    </form>
    </section>

    <section class="spa-page container-fluid" id="chat">
      <p class="alert alert-success">
        <strong>My latest reply will appear below.</strong>
        <button type="button" class="my-4" id="loadReply">Check for new reply</button>
      </p>
      <div id="chatbox" class="text-bg-info"></div>
    </section>
  <script defer src="https://cdn.jsdelivr.net/gh/SomajitDey/webtools@0.0.0/spa/spa.min.js"></script>
  <script type="module" src="/anon/script.js"></script>
  </body>
</html>